[defaults]
# Basic Ansible Configuration
inventory = inventories/production.yml
host_key_checking = False
timeout = 30
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 86400

# Output and Display
stdout_callback = yaml
callback_whitelist = timer, profile_tasks
display_skipped_hosts = False
display_ok_hosts = True
display_changed_hosts = True
display_failed_hosts = True

# Logging
log_path = /tmp/ansible.log
verbosity = 1

# Connection Settings
connection_plugins = /usr/share/ansible/plugins/connection
transport = smart
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# Network Device Specific
[network_cli]
connection = network_cli
ansible_network_os = auto
ansible_connection = network_cli
ansible_ssh_pass = "{{ ansible_password }}"
ansible_user = "{{ ansible_user }}"
ansible_become = yes
ansible_become_method = enable
ansible_become_password = "{{ ansible_password }}"

# Arista EOS Specific
[arista_eos]
ansible_network_os = arista.eos.eos
ansible_connection = network_cli
ansible_user = "{{ arista_username }}"
ansible_password = "{{ arista_password }}"
ansible_ssh_pass = "{{ arista_password }}"
ansible_become = yes
ansible_become_method = enable
ansible_become_password = "{{ arista_password }}"

# Cisco IOS Specific
[cisco_ios]
ansible_network_os = cisco.ios.ios
ansible_connection = network_cli
ansible_user = "{{ cisco_username }}"
ansible_password = "{{ cisco_password }}"
ansible_ssh_pass = "{{ cisco_password }}"
ansible_become = yes
ansible_become_method = enable
ansible_become_password = "{{ cisco_enable_secret | default(cisco_password) }}"

# Extreme EXOS Specific
[extreme_exos]
ansible_network_os = extreme.exos.exos
ansible_connection = network_cli
ansible_user = "{{ extreme_username }}"
ansible_password = "{{ extreme_password }}"
ansible_ssh_pass = "{{ extreme_password }}"
ansible_become = yes
ansible_become_method = enable
ansible_become_password = "{{ extreme_password }}"

# Cloud Provider Specific
[aws]
ansible_connection = local
ansible_python_interpreter = /usr/bin/python3

[azure]
ansible_connection = local
ansible_python_interpreter = /usr/bin/python3

[gcp]
ansible_connection = local
ansible_python_interpreter = /usr/bin/python3

# Performance Tuning
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
pipelining = True
retries = 3

# Privilege Escalation
[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# Task Execution
[task_execution]
strategy = linear
forks = 10
serial = 1

# Error Handling
[error_handling]
any_errors_fatal = False
max_fail_percentage = 0
retry_files_enabled = False
retry_files_save_path = ~/.ansible-retry

# Output Formatting
[output_formatting]
stdout_callback = yaml
callback_whitelist = timer, profile_tasks, debug
display_skipped_hosts = False
display_ok_hosts = True
display_changed_hosts = True
display_failed_hosts = True

# Fact Caching
[fact_caching]
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 86400
fact_caching_prefix = blazing_switch

# Logging Configuration
[logging]
log_path = /tmp/ansible.log
verbosity = 1
log_filter = []
log_rotate = True
log_rotate_size = 1048576
log_rotate_backups = 5
